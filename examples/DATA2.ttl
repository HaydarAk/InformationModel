@prefix ids: <https://w3id.org/idsa/core/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix idsc_lang: <https://w3id.org/idsa/code/language/> .
@prefix idsc_media: <https://w3id.org/idsa/code/mediatype/> .

@prefix conn2: <https://aastat.gov.de/connector/conn2/> .
@prefix data2: <https://aastat.gov.de/connector/conn2/data2> .
@prefix part1: <https://im.internationaldataspaces.org/participant/part1> .

data2:
    # More advanced example than data1
    # - download of the overall resource (archive)
    # - download of individual artifacts, defined variants of a generic content description (traffic data)
    # - shared representation
    # - enumerated instances explicitly distinguished by descriptive parameters
    # - download, i.e. non-interactive access - no interface definition needed
    # - plain, historical data, free of charge
    #
    ids:title "European highway statistics"@en ;
    ids:description "Data collection about usage statistics of European highways"@en;
    ids:keyword "highway", "statistics", "Europe";

    # Compressed representation of the overall resource
    #
    a ids:Container ;# this resource may be treated as a container
    ids:representation [
        a ids:ContainerRepresentation
        ids:mediaType idsc_media:APPLICATION_TAR-GZIP ;# application/tar+gzip is not an official IANA Media type
        ids:artifact data2:tar_gzip_archive ;

        # a possible explicit description
        # ids:packaging idsc_pack:TAR ;
        # ids:compression idsc_pack:GZIP ;
    ] .


data2:tar_gzip_archive # Overall resource archive
    a ids:Artifact ;
    ids:byteSize 2123178072 ;
    ids:fileName "EuropeanHighwayStatistics_2000_2018.tar.gzip" ;
    ids:creationDate "2018-10-01"^^xsd:date .

data2:
    # general definition of descriptive parameters
    # for usage with individual contents/artifacts
    #
    ids:descriptionParameter data2:HIGHWAY_PARAM ;
    ids:descriptionParameter data2:YEAR_PARAM ;
    ids:descriptionParameter data2:MONTH_PARAM ;
    # Generic content template
    ids:contentPart :EHS_TEMPLATE .

# Content is generally described in terms of "description parameters",
# instances correspond to individual permutations of those parameters.
# Parametrized description makes the instances comparable.

:EHS_TEMPLATE
    ids:parameterSet ( :HIGHWAY_PARAM :YEAR_PARAM :MONTH_PARAM ) ;
    ids:temporalCoverage [
            a ids:Interval ;
            ids:begin [ ids:date "2000-01-01"^^xsd:date ];
            ids:end   [ ids:date "2017-31-01"^^xsd:date ]
        ] ;
    ids:representation [
        a ids:Representation ;
        ids:mediaType idsc_media:TEXT_CSV ;
        ids:instance
            :E1_01_2000_CSV ,
            # ...
            :E421_09_2018_CSV
    ] .

:HIGHWAY_PARAM
    a ids:Parameter ;
    ids:name "highway" ;
    ids:description "highway ID (european route signage, e.g. E37)" ;
    ids:parameterContent [
        a ids:String ;
        ids:concept :HIGHWAY ;# undefined!
        ids:representation [
            ids:dataType xsd:string 
        ] 
    ] .
    
:YEAR_PARAM
    a ids:Parameter ;
    ids:name "year" ;
    ids:parameterContent [
        a ids:Number;
        ids:concept :CALENDAR_YEAR ;# undefined!
        ids:representation [
            ids:dataType xsd:gYear 
        ] 
    ] .

:MONTH_PARAM
    a ids:Parameter ;
    ids:name "month" ;
    ids:parameterContent [
        a ids:Number;
        ids:concept :CALENDAR_MONTH ;# undefined!
        ids:representation [
            ids:dataType xsd:int 
        ] 
    ] .
       
# Enumeration of individual content instances
:E1_01_2000_CSV
    a ids:ContentInstance ;
    ids:byteSize 9823132 ;
    ids:fileName "E1_01_2000.csv" ;
    ids:parameterAssignment [
        ids:parameter :HIGHWAY_PARAM ;
        ids:contentValue [ ids:value "E1" ];
    ] ;
    ids:parameterAssignment [
        ids:parameter :YEAR_PARAM ;
        ids:contentValue [ ids:value 2000 ];
    ] ;
    ids:parameterAssignment [
        ids:parameter :MONTH_PARAM ;
        ids:contentValue [ ids:value 01 ];
    ] .

# ...

:E421_12_2018
    a ids:ContentInstance;
    ids:byteSize 6174035 ;
    ids:fileName "E421_09_2018.csv" ;
    ids:parameterAssignment [
        ids:parameter :HIGHWAY_PARAM ;
        ids:contentValue  [ ids:value "E421" ];
    ] ;
    ids:parameterAssignment [
        ids:parameter :YEAR_PARAM ;
        ids:contentValue  [ ids:value 2018 ];
    ] ;
    ids:parameterAssignment [
        ids:parameter :MONTH_PARAM ;
        ids:contentValue  [ ids:value 09 ];
    ] .
