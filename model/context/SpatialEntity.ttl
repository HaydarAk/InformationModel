@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix locn: <http://www.w3.org/ns/locn#> .
@prefix gn: <http://www.geonames.org/ontology#> .
@prefix wgs84: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix geo: <http://www.opengis.net/def/function/geosparql/> .
@prefix ids: <https://w3id.org/idsa/core/> .
@prefix idsc: <https://w3id.org/idsa/code/> .
@prefix idsm: <https://w3id.org/idsa/metamodel/> .

# Classes
# -------

ids:SpatialEntity rdfs:subClassOf wgs84:SpatialThing;
    a owl:Class;
    rdfs:subClassOf geo:SpatialObject ;
    idsm:abstract true;
    rdfs:label "SpatialEntity"@en ;
    rdfs:comment "Anything with spatial extent, i.e. size, shape, or position, e.g., places and unique positions."@en.

ids:Location rdfs:subClassOf ids:SpatialEntity;
    rdfs:subClassOf dct:Location;
    a owl:Class;
    idsm:abstract true;
    rdfs:label "Location"@en ;
    rdfs:comment "Class of all locations on Earth."@en.

ids:GeoPoint rdfs:subClassOf ids:Location;
    a owl:Class;
    rdfs:label "GeoPoint"@en ;
    rdfs:comment "A location identified by geo coordinates."@en;
    idsm:validation [
        idsm:forProperty ids:latitude;
        idsm:constraint idsm:NotNull;
    ];
    idsm:validation [
        idsm:forProperty ids:longitude;
        idsm:constraint idsm:NotNull;
    ].

ids:GeoFeature a owl:Class;
    rdfs:subClassOf gn:Feature;
    rdfs:subClassOf ids:Location;
    rdfs:label "GeoFeature"@en ;
    rdfs:comment "A location identified by a geonames URL."@en.

ids:Geometry rdfs:subClassOf locn:Geometry;
    rdfs:subClassOf ids:Location;
    a owl:Class;
    idsm:abstract true;
    rdfs:label "Geometry"@en ;
    rdfs:comment "Geometrical shape indicating a spatial area of interest."@en.

ids:BoundingPolygon rdfs:subClassOf ids:Geometry;
    a owl:Class;
    rdfs:label "BoundingPolygon"@en;
    rdfs:comment "Defines an area of interest as a set of connected points."@en;
    idsm:validation [
        idsm:forProperty ids:geoPoint;
        idsm:relationType idsm:OneToMany;
        idsm:constraint idsm:NotEmpty;
    ].

# Properties for describing spatial entitites
# -------------------------------------------

ids:latitude rdfs:subPropertyOf wgs84:lat;
    a owl:DatatypeProperty;
    rdfs:domain ids:GeoPoint;
    rdfs:range xsd:float;
    rdfs:label "latitude"@en;
    rdfs:comment "Latitude of a GeoPoint (decimal degrees)."@en.

ids:longitude rdfs:subPropertyOf wgs84:long;
    a owl:DatatypeProperty;
    rdfs:domain ids:GeoPoint;
    rdfs:range xsd:float;
    rdfs:label "longitude"@en;
    rdfs:comment "Longitude of a GeoPoint (decimal degrees)."@en.

ids:geoPoint a owl:ObjectProperty;
     rdfs:domain ids:BoundingPolygon;
     rdfs:range ids:GeoPoint;
     rdfs:label "geoPoint"@en;
     rdfs:comment "Refers to a GeoPoint that is member of a BoundingPolygon."@en.
     

# Binary Operators comparing spatial entities
# -------------------------------------------

idsc:COVERED_BY
    a ids:BinaryOperator ;
    rdfs:seeAlso geo:ehCoveredBy ;
    rdfs:comment "Spatial operator 'covered by' as defined by the Egenhofer Topological Relations family: An object A is covered_by another object B if both objects share common bounding and interior faces; if A has interior faces which are bounding faces of B; and if none of B's interior faces are part of A's boundary. (https://doi.org/10.1007/3-540-51295-0_148 Definition 7)"@en ;
    rdfs:label  "covered by"@en .

idsc:COVERS
    a ids:BinaryOperator ;
    rdfs:seeAlso geo:ehCovers ;
    rdfs:comment "Spatial operator 'covers' as defined by the Egenhofer Topological Relations family: An object A covers another object B if both objects share common bounding and interior faces; if B has interior faces which are bounding faces of A; and if none of A's interior faces are part of B's boundary. (https://doi.org/10.1007/3-540-51295-0_148 Definition 6)"@en ;
    rdfs:label  "covers"@en .

idsc:INSIDE
    a ids:BinaryOperator ;
    rdfs:seeAlso geo:ehInside ;
    rdfs:comment "Spatial operator 'inside' as defined by the Egenhofer Topological Relations family: An object A is inside of another object B if (1) A and B share interior, but not bounding faces, (2) if A has bounding faces which are interior faces of B, and (3) none of B's bounding faces coincides with any of A's interior faces. (https://doi.org/10.1007/3-540-51295-0_148 Definition 4)"@en ;
    rdfs:label  "inside"@en .

idsc:CONTAINS 
    a ids:BinaryOperator ;
    rdfs:seeAlso geo:ehContains ;
    rdfs:comment "Spatial operator 'contains' as defined by the Egenhofer Topological Relations family: An object A contains another object B if A and B share interior but no bounding faces; if B has bounding faces which are interior faces of , and none of A's bounding faces coincides with any of B's interior faces. (https://doi.org/10.1007/3-540-51295-0_148 Definition 5)"@en ;
    rdfs:label  "contains"@en .

idsc:EQUALS
    a ids:BinaryOperator ;
    rdfs:seeAlso geo:ehEquals ;
    rdfs:comment "Spatial operator 'equals' as defined by the Egenhofer Topological Relations family: Two objects are equal if both intersections of bounding and interior faces are not empty while the two boundary-interior intersections are empty. (https://doi.org/10.1007/3-540-51295-0_148 Definition 3)"@en ;
    rdfs:label  "equals"@en .

idsc:OVERLAP 
    a ids:BinaryOperator ;
    rdfs:seeAlso geo:ehOverlap ;
    rdfs:comment "Spatial operator 'overlap' as defined by the Egenhofer Topological Relations family: Two objects overlap if they have common interior faces and the bounding faces have common parts with the opposite interior faces. (https://doi.org/10.1007/3-540-51295-0_148 Definition 8)"@en ;
    rdfs:label  "overlap"@en .

idsc:MEET
    a ids:BinaryOperator ;
    rdfs:seeAlso geo:ehMeet ;
    rdfs:comment "Spatial operator 'meet' as defined by the Egenhofer Topological Relations family: If the intersection among the bounding faces is not empty, whereas all other 3 intersections are empty, then the two objects meet. (https://doi.org/10.1007/3-540-51295-0_148 Definition 2)"@en ;
    rdfs:label  "meet"@en .

idsc:DISJOINT
    a ids:BinaryOperator ;
    rdfs:seeAlso geo:ehDisjoint ;
    rdfs:comment "Spatial operator 'disjoint' as defined by the Egenhofer Topological Relations family: If all four intersections among all object parts are empty, then the two objects are disjoint. (https://doi.org/10.1007/3-540-51295-0_148 Definition 1)"@en ;
    rdfs:label  "disjoint"@en .
