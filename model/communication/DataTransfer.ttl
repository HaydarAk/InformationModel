@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix credential: <http://www.daml.org/services/owl-s/security/credential.owl#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix ids: <https://w3id.org/ids/core/> .
@prefix idsm: <https://w3id.org/ids/metamodel/> .

# Classes
# -------

ids:DataTransfer
	a owl:Class;
    rdfs:subClassOf ids:Message;
	rdfs:label "DataTransfer"@en;
	rdfs:comment "The class of resources that describe a data transfer on the IDS."@en;
    idsm:validation [
        idsm:forProperty ids:customAttribute;
        idsm:relationType idsm:OneToMany;
    ];
    idsm:validation [
        idsm:forProperty ids:sender;
        idsm:constraint idsm:NotNull;
    ];
    idsm:validation [
        idsm:forProperty ids:receiver;
        idsm:constraint idsm:NotNull;
    ];
    idsm:validation [
        idsm:forProperty ids:transferCreatedAt;
        idsm:constraint idsm:NotNull;
    ].

ids:TransferAttribute
	a owl:Class;
	rdfs:label "TransferAttribute"@en;
	rdfs:comment "General attribute for additional description of security aspects of a data transfer."@en;
    idsm:validation [
        idsm:forProperty ids:transferAttributeKey;
        idsm:constraint idsm:NotNull;
    ];
    idsm:validation [
        idsm:forProperty ids:transferAttributeValue;
        idsm:constraint idsm:NotNull;
    ].


# Properties
# ----------

ids:transferContract
	a owl:ObjectProperty;
	rdfs:label "transferContract"@en;
	rdfs:domain ids:DataTransfer;
	rdfs:range ids:Contract;
	rdfs:comment "The contract which is (or will be) the legal basis of the data transfer."@en.

ids:customAttribute
	a owl:ObjectProperty;
	rdfs:label "customAttribute"@en;
	idsm:labelPluralForm "customAttributes"@en;
	rdfs:domain ids:DataTransfer;
	rdfs:range ids:TransferAttribute;
	rdfs:comment "Additional attributes that can be specified for a DataTransfer."@en.

ids:transferAttributeKey a owl:DatatypeProperty;
	rdfs:label "transferAttributeKey"@en;
	rdfs:domain ids:TransferAttribute;
	rdfs:range xsd:string.

ids:transferAttributeValue a owl:DatatypeProperty;
	rdfs:label "transferAttributeValue"@en;
	rdfs:domain ids:TransferAttribute;
	rdfs:range xsd:string.

ids:payloadDigest
	a owl:DatatypeProperty;
	rdfs:label "payload digest"@en;
	rdfs:domain ids:DataTransfer;
	rdfs:range xsd:base64Binary;
	rdfs:comment "The digest of the DataAsset being transfered."@en.

ids:hashFunction a owl:ObjectProperty;
    rdfs:label "hash function"@en;
    rdfs:domain ids:DataTransfer;
    rdfs:range ids:HashFunction;
    rdfs:comment "Algorithm used to calculate the payload digest of a DataTransfer."@en.


