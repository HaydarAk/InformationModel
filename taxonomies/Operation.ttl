@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix ids: <https://w3id.org/ids/core/> .
@prefix idsm: <https://w3id.org/ids/metamodel/> .

# Classes
# -------

# Command and Query super-classes is based on "Reactive Design Patterns" by Roland Kuhn

# Misses the distinction of (not) "safe" and (not) "idempotent"
ids:CommandOperation
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:Operation ;
    rdfs:label "Command"@en ; 
    rdfs:comment "Mutating operation that changes the internal state of the providing component."@en ;
    idsm:abstract true .

ids:QueryOperation
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:Operation ;
    rdfs:label "Query"@en ; 
    rdfs:comment "Reading operation considered 'safe' by not affecting the state of the provising component."@en ;
    idsm:abstract true .

ids:ListingOperation
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:QueryOperation ;
    rdfs:label "Listing operation"@en ; 
    rdfs:comment "Operation exposing a list (ordered collection of an unspecified content)."@en ;
    idsm:abstract true .

# Mandatory input parameters of type „SortOrder“, „Sort Key“
ids:SortingOperation
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:ListingOperation ;
    rdfs:label "Sorting operation "@en ; 
    rdfs:comment "Operation allowing for sorting of underlying list."@en ;
    idsm:abstract true .
    
# Mandatory input parameters of type „Offset“ and „Limit“
# Content pagination governed by client
ids:ClientPaginatingOperation
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:ListingOperation ;
    rdfs:label "Client paginating operation"@en ; 
    rdfs:comment "Operation allowing the Client for custom pagination of underlying list."@en ;
    idsm:abstract true .

# Mandatory input parameters of type „PageIndex" (subClassOf Index) or "PageReference" (first, last, previous, next)
# Content pagination governed by server
#   ServerAbsolutePaginatingOperation
#   on mandatoryInput all PageIndex
#   ServerRelativePaginatingOperation
#   on mandatoryInput all PageReference

ids:ServerPaginatingOperation
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:ListingOperation ;
    rdfs:label "Server paginating operation "@en ; 
    rdfs:comment "Operation allowing the Client to navigate list content based on Server-defined sections."@en ;
    idsm:abstract true .

## Operation types with (more or less) defined content parameters

# Add mandatory input "parameter name" to introspect
ids:ListParameterValues # former name: "Query parameter range"
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:ListingOperation ;
    rdfs:label "List parameter values"@en ; 
    rdfs:comment "Operation used by a (potential) Data Consumer to retrieve (a dynamically generated) enumeration of input parameter values (its enumerated value domain); suitable for use cases in which the complete parameter range cannot be specified beforehand."@en.

# Additional restriction on type of considered parameter applies - must be of "Identifier"
ids:ListIdentifiers
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:ListParameterValues ;
    rdfs:label "List identifiers"@en ;
    rdfs:comment "Operation used to retrieve the enumeration of available values for an 'Identifier' Parameter type. Depending on the type of underlying Resource collection, the identifier may be a unique name (map) or a numeric index (list); the Data Consumer may use the identifier for a subsequent call to 'GetResource' operation."@en.

# Requires input paramter of type "Identifier"
# Additional restriction on the output parameter type applies - must be of type "Resource"
ids:ProvideResource # former name: Provide data
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:Query ;
    rdfs:label "Provide resource"@en ;
    rdfs:comment "Operation for providing a single Resource via the operation’s output parameter(s) from the Data Provider to the Data Consumer."@en.

# Clarify input parameter, e.g. identifier of a Collection Resource?
ids:ListResources # former name: List data
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:ListingOperation ;
    rdfs:label "List resources"@en ;
    rdfs:comment "Operation used by a Data Consumer to retrieve an enumeration of values for an output parameter of type 'Resource'."@en.

# Requires a mandatory input parameter of the “Filter” type (for example, an LDAP filter)
# IN: Filter, OUT List<Resorce>, list of matching Resources
# on mandatoryInput someValues FilterParameter
# on output someValues [ ContentParameter, on contentList allValuesFrom Resource]
ids:FilterResources # former name: Filter data
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:ListResources ;
    rdfs:label "Filter resources"@en ;
    rdfs:comment "Operation provides the Data Consumer with a selection of the Resource collection according to supplied Filter Parameter. The Filter is applied to 'structured' Resource content or file properties of Artifatcs (such as file extension, file name, file type, etc.)."@en.
    
# Compared to ListResources only incomplete, selective fragments are provided which definition can't be provided beforehand
# i.e. the output of the opetration is undefined, since based on user selection (no representation / schema etc.)
# mandatoryInput some Selector
# output  [ ContentParameter, on contentList allValuesFrom Content ]

ids:SelectContent # former name: Select data
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:Query ;#ids:ListResources ?
    rdfs:label "Select content"@en ;
    rdfs:comment "Operation provides the Data Consumer with custom fragments of the original Resource collection according to supplied 'Selector' Parameter. The Selector is applied to 'structured' Resource content."@en.

# Has a mandatory input parameter of type Resource, optional input of type Identifier (PUT), otherwise the identifier is generated (POST)
ids:ConsumeResource # former name: Consume data
    rdfs:type owl:Class ;
    rdfs:subClassOf ids:Command ;
    rdfs:label "Consume resource"@en ;
    rdfs:comment "Operation for receiving data via the operation’s input parameter(s) from the Data Provider to the Data Consumer."@en.
