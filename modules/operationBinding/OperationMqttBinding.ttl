@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

@prefix ids_opbind: <https://schema.industrialdataspace.org/operationBinding/> .
@prefix ids_dep: <https://schema.industrialdataspace.org/dataEndpoint/> .
@prefix ids_http: <https://schema.industrialdataspace.org/httpMethod/> .
@prefix ids_rel: <https://schema.iais.fraunhofer.de/ids/helper/relation/> .
@prefix ids_doc: <https://schema.iais.fraunhofer.de/ids/helper/documentation/> .
@prefix ids_trans: <https://schema.iais.fraunhofer.de/ids/helper/transformation/> .

# Classes
# -------

ids_opbind:OperationMqttBinding rdfs:subClassOf ids_opbind:OperationBinding;
    a owl:Class ;
    rdfs:label "OperationMqttBinding"@en ;
    rdfs:comment "Binding of a specific operation of an endpoint to the MQTT protocol."@en .

ids_opbind:MqttTopicBindingApproach rdfs:subClassOf ids_opbind:BindingApproach;
    a owl:Class ;
    ids_trans:isAbstract true;
    rdfs:label "MqttTopicBindingApproach"@en ;
    rdfs:comment "Class of approaches how to bind parameters to an MQTT topics."@en .

ids_opbind:MqttStaticTopicBindingApproach rdfs:subClassOf ids_opbind:MqttTopicBindingApproach;
    a owl:Class ;
    rdfs:label "MqttStaticTopicBindingApproach"@en ;
    rdfs:comment "Binding approach using a 1:1 mapping between the parameter's name and a MQTT topic name."@en;
    ids_rel:validation [
        ids_rel:forProperty ids_opbind:mqttStaticTopicName;
        ids_rel:constraint ids_rel:NotNull;
    ].

ids_opbind:MqttParamControlledTopicBindingApproach rdfs:subClassOf ids_opbind:MqttTopicBindingApproach;
    a owl:Class ;
    rdfs:label "MqttParamControlledTopicBindingApproach"@en ;
    rdfs:comment "Binding approach using a 1:1 mapping between the input parameter's (string) value and the MQTT topic name."@en;
    ids_rel:validation [
        ids_rel:forProperty ids_opbind:mqttDynamicTopicName;
        ids_rel:constraint ids_rel:NotNull;
    ].

# Properties
# ----------

ids_opbind:mqttBrokerUri a owl:DatatypeProperty;
    rdfs:label "mqttBrokerUri"@en ;
    rdfs:domain ids_opbind:OperationMqttBinding ;
    rdfs:range xsd:anyURI;
    rdfs:comment "Defines the URL of the MQTT broker."@en .

ids_opbind:mqttStaticTopicName a owl:DatatypeProperty;
    rdfs:label "mqttTopicName"@en ;
    rdfs:domain ids_opbind:MqttStaticTopicBindingApproach ;
    rdfs:range xsd:string;
    rdfs:comment "The name of an MQTT topic."@en .

ids_opbind:mqttDynamicTopicName a owl:DatatypeProperty;
    rdfs:label "mqttTopicName"@en ;
    rdfs:domain ids_opbind:MqttParamControlledTopicBindingApproach ;
    rdfs:range xsd:string;
    rdfs:comment "MQTT topic name that may contains a placeholder which maps to the parameter's label."@en .




