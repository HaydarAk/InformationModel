@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

@prefix ids_prot: <https://schema.industrialdataspace.org/protocolBinding/> .
@prefix ids_dep: <https://schema.industrialdataspace.org/dataEndpoint/> .
@prefix ids_http: <https://schema.industrialdataspace.org/httpMethod/> .
@prefix ids_rel: <https://schema.iais.fraunhofer.de/ids/helper/relation/> .
@prefix ids_doc: <https://schema.iais.fraunhofer.de/ids/helper/documentation/> .
@prefix ids_trans: <https://schema.iais.fraunhofer.de/ids/helper/transformation/> .

# Classes
# -------

ids_prot:ProtocolBinding a owl:Class;
    rdfs:label "ProtocolBinding"@en ;
    rdfs:comment "Describes how a DataEndpoint can be invoked by using a certain protocol."@en;
    ids_rel:validation [
        ids_rel:forProperty ids_prot:operationBinding;
        ids_rel:relationType ids_rel:OneToMany;
    ].

ids_prot:OperationBinding a owl:Class ;
    rdfs:label "OperationBinding"@en ;
    rdfs:comment "Binding of a specific operation of an endpoint."@en ;
    ids_rel:validation [
        ids_rel:forProperty ids_prot:parameterBinding;
        ids_rel:relationType ids_rel:OneToMany;
    ].

ids_prot:OperationHttpBinding rdfs:subClassOf ids_prot:OperationBinding;
    a owl:Class ;
    rdfs:label "OperationHttpBinding"@en ;
    rdfs:comment "Binding of a specific operation of an endpoint to the HTTP protocol."@en .

ids_prot:ParameterBinding a owl:Class ;
    rdfs:label "ParameterBinding"@en ;
    rdfs:comment "Description of a specific parameter of an endpoint."@en .

ids_prot:BindingApproach a owl:Class ;
    ids_trans:isAbstract true;
    rdfs:label "BindingApproach"@en ;
    rdfs:comment "Class of approaches how to bind parameters to an operation invocation."@en .

ids_prot:UriTemplateBindingApproach rdfs:subClassOf ids_prot:BindingApproach;
    a owl:Class ;
    rdfs:label "UriTemplateBindingApproach"@en ;
    rdfs:comment "Binding approach using a 1:1 mapping between the parameter's name and a key in the operation's URI template."@en .

ids_prot:HttpHeaderBindingApproach rdfs:subClassOf ids_prot:BindingApproach;
    a owl:Class ;
    rdfs:label "HttpHeaderBindingApproach"@en ;
    rdfs:comment "Binding approach using a 1:1 mapping between the parameters name and a HTTP header template."@en .

ids_prot:HttpResponseBodyBindingApproach rdfs:subClassOf ids_prot:BindingApproach;
    a owl:Class ;
    rdfs:label "HttpResponseBodyBindingApproach"@en ;
    rdfs:comment "Binding approach using a 1:1 mapping between the parameters name and a HTTP body template."@en .

# Properties
# ----------

ids_prot:operationBinding
    a owl:ObjectProperty ;
    rdfs:label "operationBinding"@en ;
    ids_doc:labelPluralForm "operationBindings"@en;
    rdfs:domain ids_prot:ProtocolBinding ;
    rdfs:range ids_prot:OperationBinding ;
    rdfs:comment "Defines the available operations of an endpoint."@en .

ids_prot:boundOperation
    a owl:ObjectProperty ;
    rdfs:label "boundOperation"@en ;
    rdfs:domain ids_prot:OperationBinding ;
    rdfs:range ids_dep:Operation ;
    rdfs:comment "The operation which is bound to the protocol."@en .

ids_prot:httpMethod
    a owl:ObjectProperty ;
    rdfs:label "httpMethod"@en ;
    rdfs:domain ids_prot:OperationHttpBinding ;
    rdfs:range ids_http:HttpMethod;
    rdfs:comment "Defines the method of an operation."@en .

ids_prot:uriTemplate
    a owl:DatatypeProperty;
    rdfs:label "uriTemplate"@en;
    rdfs:domain ids_prot:OperationBinding;
    rdfs:range xsd:string;
    rdfs:comment "URL template for invoking the operation including all its possible parameters. Structured string literal containing distinguished placeholders to be replaced by runtime arguments, see for example URI Templates (RFC 6570)." .

ids_prot:parameterBinding
    a owl:ObjectProperty ;
    rdfs:label "parameterBinding"@en ;
    ids_doc:labelPluralForm "parameterBindings"@en;
    rdfs:domain ids_prot:OperationBinding ;
    rdfs:range ids_prot:ParameterBinding ;
    rdfs:comment "Links parameters of an Operation to their corresponding bindings for that Operation."@en .

ids_prot:boundParameter
    a owl:ObjectProperty ;
    rdfs:label "boundParameter"@en ;
    rdfs:domain ids_prot:ParameterBinding ;
    rdfs:range ids_prot:Parameter ;
    rdfs:comment "Specified the parameter that is described by the ParameterBinding."@en .

ids_prot:bindingApproach
    a owl:ObjectProperty ;
    rdfs:label "bindingApproach"@en ;
    rdfs:domain ids_prot:ParameterBinding ;
    rdfs:range ids_prot:BindingApproach ;
    rdfs:comment "Specifies the approached used to bind the Operation Parameter."@en .

ids_prot:httpHeaderLine a owl:DatatypeProperty;
    rdfs:label "httpHeaderLine"@en ;
    rdfs:domain ids_prot:HttpHeaderBindingApproach ;
    rdfs:range xsd:string ;
    rdfs:comment "A HTTP header line in the form key : value(s); may contains a placeholder which maps to the parameter's label."@en .

ids_prot:httpBodyContent a owl:DatatypeProperty;
    rdfs:label "httpBodyContent"@en ;
    rdfs:domain ids_prot:HttpResponseBodyBindingApproach ;
    rdfs:range xsd:string ;
    rdfs:comment "HTTP body that may contains a placeholder which maps to the parameter's label."@en .