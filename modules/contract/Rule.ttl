@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix odrl: <http://www.w3.org/ns/odrl/2/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

@prefix ids_rule: <https://schema.industrialdataspace.org/rule/> .
@prefix ids_act: <https://schema.industrialdataspace.org/action/> .
@prefix ids_bop: <https://schema.industrialdataspace.org/binaryOperator/> .
@prefix ids_temp: <https://schema.industrialdataspace.org/temporal/> .
@prefix ids_rel: <https://schema.iais.fraunhofer.de/ids/helper/relation/> .
@prefix ids_doc: <https://schema.iais.fraunhofer.de/ids/helper/documentation/> .
@prefix ids_trans: <https://schema.iais.fraunhofer.de/ids/helper/transformation/> .
@prefix ids_unit: <https://schema.industrialdataspace.org/unit/> .
@prefix ids_dep: <https://schema.industrialdataspace.org/dataEndpoint/> .
@prefix ids_unit: <https://schema.industrialdataspace.org/unit/> .
@prefix ids_bop: <https://schema.industrialdataspace.org/binaryOperator/> .
@prefix ids_lop: <https://schema.industrialdataspace.org/leftOperand/> .

# Classes
# -------

ids_rule:Rule rdfs:subClassOf odrl:Rule;
    a owl:Class;
    ids_trans:isAbstract true;
    rdfs:label "Rule"@en;
    rdfs:comment "Superclass of Permissions, Prohibitions and Duties."@en;
    ids_rel:validation [
        ids_rel:forProperty ids_rule:ruleDescription;
        ids_rel:relationType ids_rel:OneToMany;
    ];
    ids_rel:validation [
        ids_rel:forProperty ids_rule:constraint;
        ids_rel:relationType ids_rel:OneToMany;
    ];
    ids_rel:validation [
        ids_rel:forProperty ids_rule:assigner;
        ids_rel:relationType ids_rel:OneToMany;
    ];
    ids_rel:validation [
        ids_rel:forProperty ids_rule:assignee;
        ids_rel:relationType ids_rel:OneToMany;
    ].

ids_rule:Permission rdfs:subClassOf ids_rule:Rule;
    rdfs:subClassOf odrl:Permission;
    a owl:Class;
    rdfs:label "Permission"@en;
    rdfs:comment "The class of Permissions as defined in the ODRL ontology."@en;
    ids_rel:validation [
        ids_rel:forProperty ids_rule:duty;
        ids_rel:relationType ids_rel:OneToMany;
    ].

ids_rule:Prohibition rdfs:subClassOf ids_rule:Rule;
    rdfs:subClassOf odrl:Prohibition;
    a owl:Class;
    rdfs:label "Prohibition"@en;
    rdfs:comment "The class of Prohibitions as defined in the ODRL ontology."@en.

ids_rule:Duty rdfs:subClassOf ids_rule:Rule;
    rdfs:subClassOf odrl:Duty;
    a owl:Class;
    rdfs:label "Duty"@en;
    rdfs:comment "The class of Duties as defined in the ODRL ontology."@en.

ids_rule:Constraint rdfs:subClassOf odrl:Constraint;
    a owl:Class;
    rdfs:label "Constraint"@en;
    rdfs:comment "The class of Constraints that restrict a Rule."@en.

ids_rule:PaymentConstraint rdfs:subClassOf ids_rule:Constraint;
    a owl:Class;
    ids_trans:isAbstract true;
    rdfs:label "PaymentConstraint"@en;
    rdfs:comment "EXPERIMENTAL: The class of Constraints that restrict a payment Action."@en;
    ids_rel:validation [
        ids_rel:forProperty ids_rule:payAmount;
        ids_rel:constraint ids_rel:NotNull;
    ];
    ids_rel:validation [
        ids_rel:forProperty ids_rule:paymentUnit;
        ids_rel:constraint ids_rel:NotNull;
    ].

ids_rule:PayOnceConstraint rdfs:subClassOf ids_rule:PaymentConstraint;
    a owl:Class;
    rdfs:label "PayOnceConstraint"@en;
    rdfs:comment "EXPERIMENTAL: The class of Constraints that restrict a payment Action to a one time payment."@en.

ids_rule:PayPerVolumeConstraint rdfs:subClassOf ids_rule:PaymentConstraint;
    a owl:Class;
    rdfs:label "PayPerVolumeConstraint"@en;
    rdfs:comment "EXPERIMENTAL: The class of Constraints that restrict a payment Action to a pay per volume payment."@en;
    ids_rel:validation [
        ids_rel:forProperty ids_rule:volumeAmount;
        ids_rel:constraint ids_rel:NotNull;
    ];
    ids_rel:validation [
        ids_rel:forProperty ids_rule:volumeUnit;
        ids_rel:constraint ids_rel:NotNull;
    ].

ids_rule:PayPeriodicallyConstraint rdfs:subClassOf ids_rule:PaymentConstraint;
    a owl:Class;
    rdfs:label "PayPeriodicallyConstraint"@en;
    rdfs:comment "EXPERIMENTAL: The class of Constraints that restrict a payment Action to a periodic payment."@en;
    ids_rel:validation [
        ids_rel:forProperty ids_rule:recurrenceRate;
        ids_rel:constraint ids_rel:NotNull;
    ].

# Properties
# ----------

ids_rule:action rdfs:subPropertyOf odrl:action;
    a owl:ObjectProperty;
    rdfs:label "action"@en;
    rdfs:domain ids_rule:Rule;
    rdfs:range ids_act:Action;
    rdfs:comment "The operation relating to the asset for which permission is being granted."@en.

ids_rule:assignee rdfs:subPropertyOf odrl:assignee;
    a owl:ObjectProperty;
    rdfs:domain ids_rule:Rule;
    rdfs:range ids_rule:Participant;
    ids_trans:refByURI true;
    rdfs:label "assignee"@en;
    ids_doc:labelPluralForm "assignees"@en;
    rdfs:comment "The recipient of the policy statement."@en.

ids_rule:useAssigneeComplement a owl:DatatypeProperty;
    rdfs:label "useAssigneeComplement"@en;
    rdfs:domain ids_rule:Rule;
    rdfs:range xsd:boolean;
    rdfs:comment "When set to true, Assignees are all Participants that are not explicitly provided."@en.

ids_rule:assigner rdfs:subPropertyOf odrl:assigner;
    a owl:ObjectProperty;
    rdfs:domain ids_rule:Rule;
    rdfs:range ids_rule:Participant;
    ids_trans:refByURI true;
    rdfs:label "assigner"@en;
    ids_doc:labelPluralForm "assigners"@en;
    rdfs:comment "The issuer of the policy statement."@en.

ids_rule:target rdfs:subPropertyOf odrl:target;
    a owl:ObjectProperty;
    rdfs:domain ids_rule:Rule;
    rdfs:range ids_dep:Operation;
    ids_trans:refByURI true;
    rdfs:label "target"@en;
    rdfs:comment "The operation which is the subject of the policy statement."@en.

ids_rule:duty rdfs:subPropertyOf odrl:duty;
    a owl:ObjectProperty;
    rdfs:label "duty"@en;
    ids_doc:labelPluralForm "duties"@en;
    rdfs:domain ids_rule:Permission;
    rdfs:range ids_rule:Duty;
    rdfs:comment "The Duties imposed by a Permission."@en.

ids_rule:ruleDescription rdfs:subPropertyOf dct:description;
    a owl:DatatypeProperty;
    ids_doc:labelPluralForm "ruleDescriptions"@en;
    rdfs:label "ruleDescription"@en;
    rdfs:domain ids_rule:Rule;
    rdfs:range rdf:PlainLiteral;
    rdfs:comment "Freetext description of the Rule.".

ids_rule:constraint rdfs:subPropertyOf odrl:constraint;
    a owl:ObjectProperty;
    rdfs:label "constraint"@en;
    rdfs:domain ids_rule:Rule;
    rdfs:range ids_rule:Constraint;
    rdfs:comment "The constraint to be used for a specific rule."@en.

ids_rule:constraint rdfs:subPropertyOf odrl:constraint;
    a owl:ObjectProperty;
    rdfs:label "constraint"@en;
    rdfs:domain ids_rule:Rule;
    rdfs:range ids_rule:Constraint;
    rdfs:comment "The constraint to be used for a specific rule."@en.

ids_rule:refinement rdfs:subPropertyOf odrl:refinement;
    a owl:ObjectProperty;
    rdfs:label "refinement"@en;
    ids_doc:labelPluralForm "refinements"@en;
    rdfs:domain ids_act:Action;
    rdfs:range ids_rule:Constraint;
    rdfs:comment "Constraint that refines an Action."@en.

ids_rule:leftOperand rdfs:subPropertyOf odrl:leftOperand;
	a owl:ObjectProperty;
	rdfs:label "leftOperand"@en ;
    rdfs:domain ids_rule:Constraint;
    rdfs:range ids_lop:LeftOperand ;
	rdfs:comment "The left operand in a constraint expression."@en.

ids_rule:operator rdfs:subPropertyOf odrl:operator;
	a owl:ObjectProperty;
	rdfs:label "operator"@en ;
	rdfs:domain ids_rule:Constraint;
    rdfs:range ids_bop:BinaryOperator;
	rdfs:comment "The operator function applied to operands of a Constraint"@en.

ids_rule:rightOperand rdfs:subPropertyOf odrl:rightOperand;
	a owl:ObjectProperty;
	rdfs:label "rightOperand"@en ;
	rdfs:domain ids_rule:Constraint;
    rdfs:range rdfs:Literal;
	rdfs:comment "The value of the right operand in a constraint expression."@en.

ids_rule:unit rdfs:subPropertyOf odrl:unit;
    a owl:ObjectProperty;
    ids_trans:refByURI true;
    rdfs:label "unit"@en;
    rdfs:domain ids_rule:Constraint;
    rdfs:range ids_unit:Unit;
    rdfs:comment "The unit of measurement of a Constraint."@en.